import{a0 as i,a1 as h,aW as x,r as o,j as e,aQ as g,aR as p,aS as f,aT as j,aU as b,a8 as n,a$ as C,a_ as w,aq as v}from"./ChatbotName-a8078e60.js";import{B as y}from"./browser-polyfill-5e752e65.js";import{c as N}from"./proxy-fetch-e4874809.js";import{C as k}from"./user-config-69ab7572.js";const P="/assets/premium-d74077d7.svg";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function A(){const{t:s}=i(),[a,l]=h(C),c=k[a],t=x(a),m=o.useCallback(async d=>{t.sendMessage(d)},[t]),r=o.useCallback(()=>{t.generating||t.resetConversation()},[t]),u=o.useMemo(()=>({reset:r}),[r]);return e.jsx(g.Provider,{value:u,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:c.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx(p,{botId:a,name:c.name,onSwitchBot:l})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:f,className:N("w-4 h-4",t.generating?"cursor-not-allowed":"cursor-pointer"),onClick:r})})]}),e.jsx(j,{botId:a,messages:t.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(b,{mode:"compact",disabled:t.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:t.generating?e.jsx(n,{text:s("Stop"),color:"flat",size:"small",onClick:t.stopGenerating}):e.jsx(n,{text:s("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function B(){const{t:s}=i(),a=o.useCallback(()=>{window.open(y.runtime.getURL("app.html#/premium?source=sidepanel"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:P,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:s("Premium Feature")}),e.jsx(n,{text:s("Upgrade to unlock"),color:"primary",onClick:a})]})}function S(){const s=v();return s.isLoading?null:s.activated?e.jsx(A,{}):e.jsx(B,{})}const T=document.getElementById("app"),I=w(T);I.render(e.jsx(S,{}));
